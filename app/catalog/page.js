import { PrismaClient } from '@prisma/client';
import PageComponent from "@/components/Comp/PageComponent";

const prisma = new PrismaClient();

async function getData() {
	console.log('–ó–∞–ø—Ä–æ—Å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ')
	try {
		const data = await prisma.car.findMany({
			include: {
				brand: true,
				model: true,
				generation: true,
			},
		});
		if (!data || data.length === 0) {
			return [];
		} else if (!Array.isArray(data)) {
			return [data];
		}
		return data;
	} catch (error) {
		console.error("–û—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ:", error);
		throw error;
	}
}

export const metadata = {
	title: "–ö—É–ø–∏—Ç—å –∞–≤—Ç–æ c –ø—Ä–æ–±–µ–≥–æ–º –≤ –ú–∏–Ω—Å–∫–µ | –õ–∏–∑–∏–Ω–≥ –∏ –ö—Ä–µ–¥–∏—Ç | –ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞ ¬´AvtoCar¬ª",
	description: "·êà ‚≠ê –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –ø—Ä–æ–±–µ–≥–æ–º –≤ —Å–∞–º–æ–º –∫—Ä—É–ø–Ω–æ–º –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–µ –ú–∏–Ω—Å–∫–∞ ‚ö° –ö—Ä–µ–¥–∏—Ç –∏ –ª–∏–∑–∏–Ω–≥ –Ω–∞ –±/—É –∞–≤—Ç–æ ‚û§‚û§‚û§ –î–æ 10 –ª–µ—Ç. ‚òéÔ∏è (33) 355-88-55 ‚ö° –ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π ‚ö° –ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ –∞–≤—Ç–æ ‚≠ê –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ ‚≠ê –ë–µ–∑ –≤–∑–æ—Å–∞ ‚úì –ë–µ–∑ —Å–ø—Ä–∞–≤–æ–∫ –∏ –ø–æ—Ä—É—á–∏—Ç–µ–ª–µ–π ‚úì –ó–≤–æ–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!",
	keywords: "",
	alternates: {
		canonical: `${process.env.NEXT_PUBLIC_BASE_URL}/catalog/`
	},
	ogTitle: '–ö—É–ø–∏—Ç—å –∞–≤—Ç–æ c –ø—Ä–æ–±–µ–≥–æ–º –≤ –ú–∏–Ω—Å–∫–µ | –õ–∏–∑–∏–Ω–≥ –∏ –ö—Ä–µ–¥–∏—Ç | –ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞ ¬´AvtoCar¬ª',
	ogDescription: '·êà ‚≠ê –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –ø—Ä–æ–±–µ–≥–æ–º –≤ —Å–∞–º–æ–º –∫—Ä—É–ø–Ω–æ–º –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–µ –ú–∏–Ω—Å–∫–∞ ‚ö° –ö—Ä–µ–¥–∏—Ç –∏ –ª–∏–∑–∏–Ω–≥ –Ω–∞ –±/—É –∞–≤—Ç–æ ‚û§‚û§‚û§ –î–æ 10 –ª–µ—Ç. ‚òéÔ∏è (33) 355-88-55 ‚ö° –ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π ‚ö° –ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ –∞–≤—Ç–æ ‚≠ê –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ ‚≠ê –ë–µ–∑ –≤–∑–æ—Å–∞ ‚úì –ë–µ–∑ —Å–ø—Ä–∞–≤–æ–∫ –∏ –ø–æ—Ä—É—á–∏—Ç–µ–ª–µ–π ‚úì –ó–≤–æ–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!',
	twitterTitle: '–ö—É–ø–∏—Ç—å –∞–≤—Ç–æ c –ø—Ä–æ–±–µ–≥–æ–º –≤ –ú–∏–Ω—Å–∫–µ | –õ–∏–∑–∏–Ω–≥ –∏ –ö—Ä–µ–¥–∏—Ç | –ö–∞—Ç–∞–ª–æ–≥ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–∞ ¬´AvtoCar¬ª',
	twitterDescription: '·êà ‚≠ê –ê–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –ø—Ä–æ–±–µ–≥–æ–º –≤ —Å–∞–º–æ–º –∫—Ä—É–ø–Ω–æ–º –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–µ –ú–∏–Ω—Å–∫–∞ ‚ö° –ö—Ä–µ–¥–∏—Ç –∏ –ª–∏–∑–∏–Ω–≥ –Ω–∞ –±/—É –∞–≤—Ç–æ ‚û§‚û§‚û§ –î–æ 10 –ª–µ—Ç. ‚òéÔ∏è (33) 355-88-55 ‚ö° –ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π ‚ö° –ü–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ –∞–≤—Ç–æ ‚≠ê –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ ‚≠ê –ë–µ–∑ –≤–∑–æ—Å–∞ ‚úì –ë–µ–∑ —Å–ø—Ä–∞–≤–æ–∫ –∏ –ø–æ—Ä—É—á–∏—Ç–µ–ª–µ–π ‚úì –ó–≤–æ–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!',
	twitterImage: 'public/fon/fon6.webp',
	ogType: 'website',
	ogUrl: '',
	twitterCard: 'public/fon/fon6.webp'
};


export default async function Page() {
	const data = await getData();
	console.log("üöÄ üöÄ üöÄ  _–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ  data:", data.length)
	console.log("üöÄ üöÄ üöÄ  _ –ö–∞—Ç–∞–ª–æ–≥_ data:", data)

	return <PageComponent data={data} />;

}
